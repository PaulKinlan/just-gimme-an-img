<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>I just want an image on my page</title>
  <script>
    __dirname = '/squoosh/';
  </script>
</head>

<body>
  <template id="previewListItemTemplate">
    <li data-bind_id="name" data-bind_class-list="status">
      <div class="dimensions">
        <span data-bind_inner-text="width"></span>x<span data-bind_inner-text="height"></span>px
      </div>
      <span data-bind_inner-text="size" class="size"></span>
      <div class="tools">
        <a data-bind_href="url" target="_blank" data-bind_inner-text="previewText">
          <img src="/images/preview.svg" alt="Preview">
        </a> 
        <a data-bind_href="url" data-bind_download="name" data-bind_inner-text="downloadText">
          <img src="/images/file_download.svg" alt="Download">
        </a>
      </div>
    </li>
  </template>
  <template id="codecOutputTemplate">
    <div class="output-container">
      <h3 data-bind_inner-text="codec"></h3>
      <ul data-bind_id="id">
      </ul>
    </div>
  </template>
  <file-drop id="imageDrop" accept='image/*'>
    <div id="app">
      <section id="dropbox">
        <div id="instructions">
          <h2>I just want to put an image on my page</h2>
          <p><a href="https://paul.kinlan.me/images-are-still-too-hard/">Making images fast is hard</a>. A good image should be the highest visible quality at the smallest possible file size.</p>
          <p>This tool will:</p>
          <ul>
            <li>Create the correct HTML for you to drop on to your page.</li>
            <li>Work out the best pixel dimensions to encode your image.</li>
            <li>Encode the image into the corrects sizes and with the best codecs.</li>
          </ul>
          <p>and best of all this is all done on the client, your images never leave your machine.</p>
          <fieldset>
            <legend>Image</legend>
            <label for="fileSelect">Image to Optimize: <input type="file" id="fileSelect" accept="image/*"></label>
            <details>
              <summary>Options</summary>
              <div>
                <label>Base path: <input type="text" name="path" id="filePath" disabled></label>
                <label>File name: <input type="text" name="name" id="fileName"></label>
              </div>
            </details>
            <button id="goButton" disabled>Optimize Images</button>
          </fieldset>
        </div>
      </section>

      <section id="html">
        <h2>HTML</h2>
        <pre class="lang-html"><code id="code">&lt;img /&gt;</code></pre>
      </section>

      <section id="output-section">
        <h2>Optimized Images</h2>
        <div><button id="saveAllButton">Save All</button></div>
        <div id="image-output">
          Your optimized images will appear here.
        </div>
      </section>

      <section id="cli-section">
        <h2>CLI</h2>
        <p>Optimized images using <a href="https://squoosh.app">Squoosh</a> on the command-line.</p>
        <pre class="lang-shell"><code id="cli">$ </code></pre>
      </section>
    </div>
  </file-drop>
  <script type="module" src="/main.js"></script>
</body>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FSLXXKQJKD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FSLXXKQJKD');
</script>

</html>